# CI Build Configuration
# =======================
# This file controls which platform builds run during PR checks TO DEVELOP.
#
# IMPORTANT: PRs targeting MAIN always build ALL platforms (this config is ignored).
#
# Usage:
# - Set platforms to `true` to enable build during PR checks to develop
# - Set platforms to `false` to skip build during PR checks to develop
# - The "quality" job (ktlint, detekt) always runs regardless of settings
# - Full builds (all platforms) always run on: PRs to main, pushes to main/release/*/fix/*
#
# Branch-based auto-detection (for PRs to develop):
# - android/* branches: Auto-enables android build only
# - ios/* branches: Auto-enables ios build only
# - desktop/* branches: Auto-enables desktop build only
# - web/* branches: Auto-enables web build only
# - feature/*, bugfix/*: Uses this config file
#
# Agents: When working on a ticket, modify the platforms below based on which
# areas of the codebase will be affected by your changes.

pr_checks:
  # Enable Android build for PR checks
  android: true

  # Enable iOS build for PR checks
  ios: true

  # Enable Desktop build for PR checks
  desktop: true

  # Enable Web build for PR checks
  web: true

  # Always build shared module (required for all platforms)
  shared: true

# Thresholds and quality gates
quality:
  # Minimum test coverage required (will increase over time: 50% -> 95%)
  min_coverage: 50

  # Fail on ktlint errors
  ktlint_strict: true

  # Fail on detekt issues
  detekt_strict: true
